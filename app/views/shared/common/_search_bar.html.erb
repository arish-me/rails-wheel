<%= form_with url: resource_path,
              id: resource_id,
              method: :get,
              data: { controller: "auto-submit-form" } do |form| %>
  <div class="bg-white dark:bg-gray-800">
    <label for="table-search" class="sr-only">Search</label>
    <div class="relative">
      <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
        <%= lucide_icon("search", class: "w-4 h-4 text-gray-500 dark:text-gray-400") %>
      </div>
      <%= form.text_field :query,
                          placeholder: placeholder,
                          value: params[:query],
                          class: "block w-full ps-10 py-2.5 text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 transition-colors",
                          "data-auto-submit-form-target": "auto" %>
      <% if params[:query].present? %>
        <%= link_to resource_path, class: "absolute inset-y-0 end-0 flex items-center pe-3 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300" do %>
          <%= lucide_icon("x", class: "w-4 h-4") %>
        <% end %>
      <% end %>
    </div>
  </div>
<% end %>