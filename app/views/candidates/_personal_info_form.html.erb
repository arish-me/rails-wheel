<!-- <div id="candidate_profile_personal_info"> -->
<%= render DialogComponent.new(variant: :modal, width: :lg) do |dialog| %>
	<% dialog.with_header(title: t("edit_information")) %>
	<% dialog.with_body do %>

				<%= styled_form_with model: candidate, url: candidate_path(candidate), method: :patch, class: "space-y-4" do |form| %>
				<% if candidate.errors.any? %>
					<%= render "shared/form_errors" , model: candidate %>
				<% end %>
				<%= form.fields_for :user do |user_form| %>
					<%= user_form.hidden_field :email_required, value: false %>
					<section class="bg-white shadow px-4 py-5 lg:rounded-lg sm:p-6">
					<div class="md:grid md:grid-cols-3 md:gap-6">
						<div class="md:col-span-1">
							<h2 class="text-lg font-medium leading-6 text-gray-900"><%= t("profile.title") %></h2>
							<p class="mt-2 text-sm text-gray-500"><%= t("profile.help_text") %></p>
						</div>
						<div class="mt-5 md:mt-0 md:col-span-2">
							<div class="space-y-6">
								<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
									<div>
										<%= user_form.text_field :first_name, label: 'First Name' , placeholder: 'Enter First Name' %>
									</div>
									<div>
										<%= user_form.text_field :last_name, label: 'Last Name' , placeholder: 'Enter Last Name' %>
									</div>
									<div>
										<%= user_form.select :gender,  User.genders.map { |key, _| [User::GENDER_DISPLAY[key.to_sym], key] }, { include_blank: "---Select---", label: "Pronounce" } %>
									</div>
									<div>
										<%= user_form.telephone_field :phone_number, placeholder: "+1 (555) 123-4567" , label: "Phone" %>
									</div>
									<div>
										<%= user_form.date_field :date_of_birth,   max: Date.today - 10.years, min: Date.today - 120.years, label: "Date of birth" %>
									</div>
								</div>
							</div>
						</div>
					</div>
				</section>

				<%= user_form.fields_for :location, include_id: false do |location| %>
					<section class="bg-white shadow px-4 py-5 lg:rounded-lg sm:p-6">
						<div class="md:grid md:grid-cols-3 md:gap-6">
							<div class="md:col-span-1">
								<h2 class="text-lg font-medium leading-6 text-gray-900"><%= t("location.title") %></h2>
								<p class="mt-2 text-sm text-gray-500"><%= t("location.help_text") %></p>
							</div>
							<div class="mt-5 md:mt-0 md:col-span-2">
								<div class="space-y-6">
									<%= location.text_field :location_search, placeholder: 'Enter address e.g. San Francisco, California' %>
									<div class="form-field combobox text-xs">
										<%= location.combobox :country,  ISO3166::Country.pluck(:iso_short_name) %>
									</div>

									<%if Rails.env.development? && false  %>
									<div data-controller="places-autocomplete">


										<div class="mb-4">
											<%= location.text_field :location_search %>
											<%= form.combobox :country_code,  ISO3166::Country.pluck(:iso_short_name) %>

											<label class="block text-sm font-medium text-gray-700 mb-2">Search Address</label>
											<%= location.combobox :location_search,
                  label: 'Search Address',
                  placeholder: 'Start typing your city...',
                  data: {
                    action: "keydown->places-autocomplete#preventSubmit",
                    places_autocomplete_target: "address"
                  }
                %>
											<p class="mt-1 text-xs text-gray-500">Please enter a complete address including city, state, and country</p>
								</div>
										<!-- Hidden fields that will be populated by autocomplete -->
										<%= location.hidden_field :city, data: { places_autocomplete_target: "city" } %>
										<%= location.hidden_field :state, data: { places_autocomplete_target: "state" } %>
										<%= location.hidden_field :country, data: { places_autocomplete_target: "country" } %>
										<%= location.hidden_field :id %>
										<!-- Additional hidden fields for autocomplete -->
										<input type="hidden" data-places-autocomplete-target="streetNumber" />
										<input type="hidden" data-places-autocomplete-target="route" />
										<input type="hidden" data-places-autocomplete-target="county" />
										<input type="hidden" data-places-autocomplete-target="postalCode" />
										<input type="hidden" data-places-autocomplete-target="longitude" />
										<input type="hidden" data-places-autocomplete-target="latitude" />
										<!-- Display selected location details -->
										<%if Rails.env.development? && false  %>
											<div id="location-display" class="hidden mt-4 p-3 bg-gray-50 rounded-md">
												<h4 class="text-sm font-medium text-gray-900 mb-2">Selected Location:</h4>
												<div class="text-sm text-gray-600">
													<div id="city-display"></div>
													<div id="state-display"></div>
													<div id="country-display"></div>
												</div>
											</div>
										<% end  %>
									</div>
									<% end  %>

								</div>
							</div>
						</div>
					</section>
				<% end %>
				<section>
					<% end %>



					<%= form.submit 'Submit' %>
				</section>
			<% end %>

	<% end %>
<% end %>
<!-- </div> -->
