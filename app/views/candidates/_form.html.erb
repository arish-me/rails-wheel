<%= content_for :page_title, "Edit Profile" %>
<%= settings_section title: "Profile", subtitle: "Customize how you appear on Wheel" do %>
  <%= styled_form_with model: @candidate, local: true, class: "space-y-8" do |form| %>
    <% if @candidate.errors.any? %>
      <%= render "shared/form_errors", model: @candidate %>
    <% end %>

    <!-- Profile Section -->
    <div class="bg-white rounded-lg shadow p-6 space-y-6">
      <h2 class="text-xl font-semibold text-gray-900 mb-4">Professional Details</h2>
      <%= form.fields_for :profile do |profile_form| %>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <%= profile_form.text_field :headline, label: 'Title / Headline' , placeholder: 'Enter Title or Headline' %>
            <p class="mt-2 text-xs text-gray-500">e.g. Full-stack developer with 6+ years of experience</p>
          </div>
        </div>
      <% end %>
    </div>

    <!-- User Section -->
    <div class="bg-white rounded-lg shadow p-6 space-y-6">
      <h2 class="text-xl font-semibold text-gray-900 mb-4">Personal Information</h2>
      <%= form.fields_for :user do |user_form| %>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <%= user_form.text_field :first_name, label: 'First Name' , placeholder: 'Enter First Name' %>
          </div>
          <div>
            <%= user_form.text_field :last_name, label: 'Last Name' , placeholder: 'Enter Last Name' %>
          </div>
          <div>
            <%= user_form.select :gender,  User.genders.map { |key, _| [User::GENDER_DISPLAY[key.to_sym], key] }, { include_blank: "---Select---", label: "Pronounce" } %>
          </div>
          <div>
            <%= user_form.telephone_field :phone_number, placeholder: "+1 (555) 123-4567" , label: "Phone" %>
          </div>
          <div>
            <%= user_form.date_field :date_of_birth,   max: Date.today - 10.years, min: Date.today - 120.years, label: "Date of birth" %>
          </div>
          <div class="sm:col-span-2">
            <%= user_form.label :bio, class: 'block mb-2 text-sm font-medium text-gray-900 theme-dark:text-white' %>
            <%= user_form.text_area :bio, rows: 4, class: "block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 theme-dark:bg-gray-700 theme-dark:border-gray-600 theme-dark:placeholder-gray-400 theme-dark:text-white theme-dark:focus:ring-blue-500 theme-dark:focus:border-blue-500", placeholder: "Write a short bio about yourself..." %>
            <p class="mt-1 text-xs text-gray-500 theme-dark:text-gray-400">Maximum 500 characters</p>
          </div>
        </div>
      <% end %>
    </div>

   <!-- Work Preference Section -->
<div class="bg-white rounded-lg shadow p-6 space-y-6">
  <h2 class="text-xl font-semibold text-gray-900 mb-4">Work Preferences</h2>
  <%= form.fields_for :work_preference do |wp_form| %>
    <!-- Search Status -->
     <fieldset>
              <legend class="text-base font-medium text-gray-900">
                <div class="flex">
                  <%= t(".search_status.title") %>

                </div>
              </legend>
              <div class="mt-4 space-y-4">
                <div class="flex items-start">
                  <div class="h-5 flex items-center">
                    <%= form.radio_button :search_status, :actively_looking, class: "focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300" %>
                  </div>
                  <div class="ml-3 text-sm">
                    <%= form.label :search_status, value: :actively_looking, class: "font-medium text-gray-700" %>
                    <p class="text-gray-500"><%= t(".search_status.actively_looking_help_text") %></p>
                  </div>
                </div>
                <div class="flex items-start">
                  <div class="flex items-center h-5">
                    <%= form.radio_button :search_status, :open, class: "focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300" %>
                  </div>
                  <div class="ml-3 text-sm">
                    <%= form.label :search_status, value: :open, class: "font-medium text-gray-700" %>
                    <p class="text-gray-500"><%= t(".search_status.open_help_text") %></p>
                  </div>
                </div>
                <div class="flex items-start">
                  <div class="flex items-center h-5">
                    <%= form.radio_button :search_status, :not_interested, class: "focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300" %>
                  </div>
                  <div class="ml-3 text-sm">
                    <%= form.label :search_status, value: :not_interested, class: "font-medium text-gray-700" %>
                    <p class="text-gray-500"><%= t(".search_status.not_interested_help_text") %></p>
                  </div>
                </div>
                <div class="flex items-start">
                  <div class="flex items-center h-5">
                    <%= form.radio_button :search_status, :invisible, class: "focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300" %>
                  </div>
                  <div class="ml-3 text-sm">
                    <%= form.label :search_status, value: :invisible, class: "font-medium text-gray-700" %>
                    <p class="text-gray-500"><%= t(".search_status.invisible_help_text") %></p>
                  </div>
                </div>
              </div>
            </fieldset>




    <!-- Role Type -->
   <%= form.fields_for :role_type, include_id: false do |role_type| %>
              <fieldset>
                <div>
                  <legend class="text-base font-medium text-gray-900 w-full">
                    <div class="flex">
                      <%= t(".role_type.title") %>

                    </div>
                  </legend>
                  <p class="text-sm text-gray-500"><%= t(".role_type.help_text") %></p>
                </div>
                <div class="mt-4 space-y-4">
                  <div class="flex items-center">
                    <%= role_type.check_box :part_time_contract, class: "focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300 rounded" %>
                    <%= role_type.label :part_time_contract, class: "ml-3 block text-sm font-medium text-gray-700" %>
                  </div>
                  <div class="flex items-center">
                    <%= role_type.check_box :full_time_contract, class: "focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300 rounded" %>
                    <%= role_type.label :full_time_contract, class: "ml-3 block text-sm font-medium text-gray-700" %>
                  </div>
                  <div class="flex items-center">
                    <%= role_type.check_box :full_time_employment, class: "focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300 rounded" %>
                    <%= role_type.label :full_time_employment, class: "ml-3 block text-sm font-medium text-gray-700" %>
                  </div>
                </div>
              </fieldset>
            <% end %>
     <%= form.fields_for :role_level, include_id: false do |role_level| %>
              <fieldset>
                <div>
                  <legend class="text-base font-medium text-gray-900 w-full">
                    <div class="flex">
                      <%= t(".role_level.title") %>

                    </div>
                  </legend>
                  <p class="text-sm text-gray-500"><%= t(".role_level.help_text") %></p>
                </div>
                <div class="mt-4 space-y-4">
                  <div class="flex items-center">
                    <%= role_level.check_box :junior, class: "focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300 rounded" %>
                    <%= role_level.label :junior, class: "ml-3 block text-sm font-medium text-gray-700" %>
                  </div>
                  <div class="flex items-center">
                    <%= role_level.check_box :mid, class: "focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300 rounded" %>
                    <%= role_level.label :mid, class: "ml-3 block text-sm font-medium text-gray-700" %>
                  </div>
                  <div class="flex items-center">
                    <%= role_level.check_box :senior, class: "focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300 rounded" %>
                    <%= role_level.label :senior, class: "ml-3 block text-sm font-medium text-gray-700" %>
                  </div>
                  <div class="flex items-center">
                    <%= role_level.check_box :principal, class: "focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300 rounded" %>
                    <%= role_level.label :principal, class: "ml-3 block text-sm font-medium text-gray-700" %>
                  </div>
                  <div class="flex items-center">
                    <%= role_level.check_box :c_level, class: "focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300 rounded" %>
                    <%= role_level.label :c_level, class: "ml-3 block text-sm font-medium text-gray-700" %>
                  </div>
                </div>
              </fieldset>
            <% end %>

  <% end %>
</div>

    <div class="flex justify-end mt-4">
      <%= render ButtonComponent.new(text: t(".save", default: "Save"), class: "md:w-auto w-full justify-center") %>
    </div>
  <% end %>
<% end %>